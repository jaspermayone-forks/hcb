<%# locals: (event:, event_follow: nil) %>

<% if event_follow.nil? %>
  <% if event.is_public || Announcement.where(event:).published.any? %>
    <%= button_to event_follows_path(event), method: :post, class: "btn bg-success flex items-center gap-1.5" do %>
      <%= inline_icon "notification-add" %>
      Subscribe
    <% end %>
  <% end %>
<% else %>
  <%= button_to follow_path(event_follow), method: :delete, class: "btn bg-muted flex items-center", "aria-label": "Unfollow" do %>
    <%= inline_icon "notification", style: "width: 24px; height: 24px;" %>
    Subscribed
  <% end %>
<% end %>
